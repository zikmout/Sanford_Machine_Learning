define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/plugins/lazy",["require","exports","module"],function(require,exports,module){var e={version:"0.0.1",load:function load(e,r,u,i){var n=function getModule(n){r([e],function(e){return n(e)})};return n.lazy={moduleId:e},u(n)}};module.exports=e});

define("nls/scribe-plugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ui",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/author-code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/code-evaluator",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/asset-admin",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/scribe-plugins/styles/scribe-image-upload-command',[],function(){})
define("nls/cml",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});

define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/identity",["require","exports","module"],function(require,exports,module){module.exports=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t}});
define("js/json/nls/specializations",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/payments",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("js/json/nls/categories",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/socialPlugins/wechat/__styles__/wechat-button',[],function(){})
define("nls/socialPlugins",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});




define("bundles/confirmNavigation/nls/confirmNavigation",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/nls/moment.lang",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define("nls/payments-common",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/s12n-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});


define("nls/naptimejs",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/enroll-course",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/certificate-enroll",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/discussions/components/search/__styles__/SearchBar',[],function(){})

define('css!bundles/phoenix/components/__styles__/ProfileImage',[],function(){})
define("nls/classmates",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/classmates/components/__styles__/MiniProfile',[],function(){})


define('css!bundles/page/components/__styles__/PaginationControls',[],function(){})



define('css!bundles/discussions/components/__styles__/ModerationReasons',[],function(){})
define("nls/profile",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/ui/components/__styles__/Breadcrumbs',[],function(){})
define("bundles/ui/components/Breadcrumbs",["require","exports","module","classnames","react","react-router","underscore","css!bundles/ui/components/__styles__/Breadcrumbs"],function(require,exports,module){function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),r=0;r<o.length;r++){var t=o[r],n=Object.getOwnPropertyDescriptor(s,t);n&&n.configurable&&void 0===e[t]&&Object.defineProperty(e,t,n)}return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function _inherits(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):_defaults(r,e))}var r,t,n=require("classnames"),e=require("react"),s=require("react-router"),o=s.Link,i=require("underscore"),c=i.identity;require("css!bundles/ui/components/__styles__/Breadcrumbs");var a=function emptyFunction(){},l=(t=r=function(r){function Breadcrumbs(){return _classCallCheck(this,Breadcrumbs),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(Breadcrumbs,r),Breadcrumbs.prototype.getFilteredLinks=function getFilteredLinks(){var e=this.props.links;return e.slice().filter(c)},Breadcrumbs.prototype.render=function render(){var t=this.props.className,r=this.getFilteredLinks();return e.createElement("ol",{className:n("rc-Breadcrumbs inline",t)},r.map(function(t,s){var n=[e.createElement("li",null,t.href?e.createElement(o,{to:t.href,onClick:t.onClick||a},t.label):e.createElement("span",null,t.label))];return s!==r.length-1&&n.push(e.createElement("li",{className:"divider"},"/")),n}))},Breadcrumbs}(e.Component),r.propTypes={className:e.PropTypes.string,links:e.PropTypes.arrayOf(e.PropTypes.shape({label:e.PropTypes.string.isRequired,href:e.PropTypes.string,onClick:e.PropTypes.func})).isRequired},t);module.exports=l});
define("bundles/discussions/api/subscriptionApi",["require","exports","module","q","bundles/phoenix/lib/apiWrapper","bundles/discussions/constants"],function(require,exports,module){var r=require("q"),u=require("bundles/phoenix/lib/apiWrapper"),o=require("bundles/discussions/constants"),e=o.naptimeForumTypes,s=u("/api/onDemandCourseForumSubscriptions.v1",{type:"rest"}),n=u("/api/onDemandMentorForumSubscriptions.v1",{type:"rest"}),t=u("/api/groupForumSubscriptions.v1",{type:"rest"});exports.getSubscription=function(u,o){return r(o===e.mentorForumType?n.get(u):o===e.groupForumType?t.get(u):s.get(u))},exports.subscribe=function(u,o){return r(o===e.mentorForumType?n.put(u):o===e.groupForumType?t.put(u):s.put(u))},exports.unsubscribe=function(u,o){return r(o===e.mentorForumType?n["delete"](u):o===e.groupForumType?t["delete"](u):s["delete"](u))}});
define("bundles/discussions/utils/subscriptionUtils",["require","exports","module","bundles/discussions/api/subscriptionApi"],function(require,exports,module){var s=require("bundles/discussions/api/subscriptionApi");exports.getForumSubscription=function(i,n){return s.getSubscription(i,n).then(function(s){return Object.assign(s.elements[0],{isSubscribed:!0})})["catch"](function(s){if(404===s.status)return{id:i,isSubscribed:!1};throw s})},exports.subscribeUserToEntity=function(i,n){return s.subscribe(i,n)},exports.unsubscribeUserFromEntity=function(i,n){return s.unsubscribe(i,n)}});
define("bundles/discussions/actions/SubscriptionActions",["require","exports","module","bundles/discussions/utils/subscriptionUtils"],function(require,exports,module){var s=Object.assign||function(n){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}return n},i=require("bundles/discussions/utils/subscriptionUtils");exports.fetchSubscriptionForForum=function(s,t){var n=t.forumSubscriptionId,r=t.forumType;return i.getForumSubscription(n,r).then(function(i){s.dispatch("UPDATE_SUBSCRIPTION",i)}).fail(function(i){s.dispatch("UPDATE_SUBSCRIPTION_FAILED",i)})},exports.addSubscription=function(s,n){var t=n.forumSubscriptionId,r=n.forumType;return s.dispatch("UPDATE_SUBSCRIPTION",{id:t,isInProgress:!0}),i.subscribeUserToEntity(t,r).then(function(){s.dispatch("UPDATE_SUBSCRIPTION",{id:t,isSubscribed:!0})}).fail(function(i){s.dispatch("UPDATE_SUBSCRIPTION_FAILED",i)})},exports.deleteSubscription=function(t,n){var u=n.subscription,r=n.forumSubscriptionId,o=n.forumType;return t.dispatch("UPDATE_SUBSCRIPTION",s({},u,{isInProgress:!0})),i.unsubscribeUserFromEntity(r,o).then(function(){t.dispatch("UPDATE_SUBSCRIPTION",{id:r,isSubscribed:!1})}).fail(function(i){t.dispatch("UPDATE_SUBSCRIPTION_FAILED",i)})}});
define("bundles/discussions/utils/areSubscriptionsEnabled",["require","exports","module","bundles/epic/client"],function(require,exports,module){var s=require("bundles/epic/client");module.exports=function(e){return s.get("DiscussionsSubscriptionsWhitelist","validCourseIds").indexOf(e)>-1}});

define('css!bundles/discussions/components/__styles__/SubscriptionButton',[],function(){})
define("bundles/discussions/components/SubscriptionButton",["require","exports","module","underscore","react","js/lib/user","bundles/discussions/actions/SubscriptionActions","pages/open-course/common/promises/groupAuthorizationPromise","bundles/iconfont/Icon","vendor/cnpm/fluxible.v0-4/addons/connectToStores","bundles/discussions/utils/areSubscriptionsEnabled","i18n!nls/discussions","css!./__styles__/SubscriptionButton"],function(require,exports,module){function _defaults(e,t){for(var i=Object.getOwnPropertyNames(t),o=0;o<i.length;o++){var s=i[o],r=Object.getOwnPropertyDescriptor(t,s);r&&r.configurable&&void 0===e[s]&&Object.defineProperty(e,s,r)}return e}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?o:e}function _inherits(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):_defaults(o,e))}var r,n,_=require("underscore"),e=require("react"),o=require("js/lib/user"),t=require("bundles/discussions/actions/SubscriptionActions"),i=t.fetchSubscriptionForForum,u=t.addSubscription,c=t.deleteSubscription,p=require("pages/open-course/common/promises/groupAuthorizationPromise"),a=require("bundles/iconfont/Icon"),b=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),l=require("bundles/discussions/utils/areSubscriptionsEnabled"),s=require("i18n!nls/discussions");require("css!./__styles__/SubscriptionButton");var d=(n=r=function(r){function SubscriptionButton(o,t){_classCallCheck(this,SubscriptionButton);var e=_possibleConstructorReturn(this,r.call(this,o,t));return e.toggleSubscription=function(){var o=e.props,i=o.isSubscribed,r=o.forumType,n=o.subscription,t=o.forumSubscriptionId;i?(e.context.executeAction(c,{subscription:n,forumSubscriptionId:t,forumType:r}),e.setState({showSubscriptionDetails:!0,subscriptionDetails:s("You will no longer receive emails whenever new threads are added.")})):(e.context.executeAction(u,{forumType:r,forumSubscriptionId:t}),e.setState({showSubscriptionDetails:!0,subscriptionDetails:s("You will receive emails whenever new threads are added.")}))},e.state={canModerateGroup:!1,subscriptionDetails:null,showSubscriptionDetails:!1},e}return _inherits(SubscriptionButton,r),SubscriptionButton.prototype.componentDidMount=function componentDidMount(){var r=this,e=this.props,s=e.groupId,t=e.subscription,n=e.forumSubscriptionId,u=e.forumType,c=o.isSuperuser(),a=o.isAuthenticatedUser();t||this.context.executeAction(i,{forumType:u,forumSubscriptionId:n}),s&&p(s,a,c).then(function(e){return r.setState({canModerateGroup:e})})},SubscriptionButton.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props,o=e.subscription,s=e.forumSubscriptionId,r=e.forumType;o||this.context.executeAction(i,{forumType:r,forumSubscriptionId:s})},SubscriptionButton.prototype.render=function render(){var o=this.props,r=o.subscription,c=o.isSubscribed,i=o.hasError,b=o.courseId,u=o.hasModerationRole,n=o.isSubscriptionInProgress,t=this.state,d=t.canModerateGroup,f=t.showSubscriptionDetails,p=t.subscriptionDetails;if(!l(b)&&!u&&!d)return null;return e.createElement("div",{className:"rc-SubscriptionButton horizontal-box vertical-when-mobile align-items-vertical-center"},e.createElement("button",{className:"passive",onClick:this.toggleSubscription,disabled:!r},(!r||n)&&e.createElement(a,{name:"spinner",className:"cif-spin"}),!!r&&!n&&s(c?"Unsubscribe":"Subscribe")),!i&&f&&e.createElement("div",{className:"message caption-text"},p),i&&e.createElement("div",{className:"errorMessage"},s("Sorry, something went wrong. Try again.")))},SubscriptionButton}(e.Component),r.propTypes={hasModerationRole:e.PropTypes.bool,hasError:e.PropTypes.bool,courseId:e.PropTypes.string,forumSubscriptionId:e.PropTypes.string,subscription:e.PropTypes.object,forumType:e.PropTypes.string,groupId:e.PropTypes.string,isSubscribed:e.PropTypes.bool,isSubscriptionInProgress:e.PropTypes.bool},r.contextTypes={executeAction:e.PropTypes.func.isRequired},n);module.exports=_.compose(b(["SubscriptionStore","CourseMembershipStore","CourseStore"],function(r,n){var e=r.SubscriptionStore,u=r.CourseMembershipStore,c=r.CourseStore,t=n.forumId,i=t&&t.split("~"),s=t&&o.get().id+"~"+i[0]+"~"+i[1];return{forumSubscriptionId:s,courseId:c.getCourseId(),hasModerationRole:u.hasModerationRole()||o.isSuperuser(),hasError:e.hasError(),subscription:e.getSubscription(s),isSubscribed:e.getIsSubscribed(s),isSubscriptionInProgress:e.getIsSubscriptionInProgress(s)}}))(d)});
define("bundles/discussions/api/sessions",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/onDemandSessions.v1/",{type:"rest"})});
define("bundles/discussions/api/courseBranchModerationApi",["require","exports","module","bundles/phoenix/lib/apiWrapper"],function(require,exports,module){var e=require("bundles/phoenix/lib/apiWrapper");module.exports=e("/api/authoringCourseBranchModerationData.v1/",{type:"rest"})});
define("bundles/discussions/actions/SessionFilterActions",["require","exports","module","q","jsuri","bundles/discussions/api/sessions","bundles/discussions/api/courseBranchModerationApi"],function(require,exports,module){var e=require("q"),s=require("jsuri"),i=require("bundles/discussions/api/sessions"),n=require("bundles/discussions/api/courseBranchModerationApi");exports.loadSessionsForCourse=function(a,r,u){var o=r.courseId,c=r.currentSessionId,d=r.isPrivateSession,t=void 0===d?!1:d,S=(new s).addQueryParam("q","allByCourse").addQueryParam("courseId",o).addQueryParam("fields","moduleDeadlines,branchId").toString(),l=(new s).addQueryParam("q","course").addQueryParam("courseId",o).addQueryParam("fields","authoringName").toString(),I=e.all([i.get(S),n.get(l)]).spread(function(s,e){a.dispatch("LOAD_SESSIONS_DATA",{sessions:s.elements,courseBranches:e.elements,courseId:o,currentSessionId:c,isPrivateSession:t})});I.done(function(){return u()})},exports.loadSessionsForUnprivileged=function(i,s){var n=s.courseId,r=s.currentSessionId,e=s.isPrivateSession,o=void 0===e?!1:e;i.dispatch("LOAD_SESSIONS_DATA_UNPRIVILEGED",{sessions:[],courseBranches:[],courseId:n,currentSessionId:r,isPrivateSession:o})},exports.selectSession=function(s,e,n){var i=e.sessionId;s.dispatch("SELECT_SESSION",{sessionId:i})},exports.selectOnDemand=function(s,e,i){var n=e.sessionId;s.dispatch("SELECT_ON_DEMAND",{})},exports.selectAll=function(e,s,n){var r=s.sessionId,i=s.branchId;e.dispatch("SELECT_SHOW_ALL",{branchId:i})}});

define('css!bundles/discussions/components/sessionFilter/__styles__/SessionFilter',[],function(){})
define("bundles/discussions/components/sessionFilter/SessionFilter",["require","exports","module","underscore","react","react-bootstrap","bundles/iconfont/Icon","bundles/discussions/components/sessionFilter/SessionFilterDropdown","bundles/discussions/actions/SessionFilterActions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","js/lib/connectToRouter","i18n!nls/discussions","css!./__styles__/SessionFilter"],function(require,exports,module){function _defaults(e,n){for(var r=Object.getOwnPropertyNames(n),s=0;s<r.length;s++){var o=r[s],t=Object.getOwnPropertyDescriptor(n,o);t&&t.configurable&&void 0===e[o]&&Object.defineProperty(e,o,t)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var o,r,v=require("underscore"),c=v.compose,e=require("react"),i=require("react-bootstrap"),l=i.Tooltip,a=i.OverlayTrigger,n=require("bundles/iconfont/Icon"),u=require("bundles/discussions/components/sessionFilter/SessionFilterDropdown"),s=require("bundles/discussions/actions/SessionFilterActions"),d=s.loadSessionsForCourse,p=s.loadSessionsForUnprivileged,f=s.selectSession,h=s.selectOnDemand,S=s.selectAll,b=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),m=require("js/lib/connectToRouter"),t=require("i18n!nls/discussions");require("css!./__styles__/SessionFilter");var y=(r=o=function(s){function SessionFilter(e,t){_classCallCheck(this,SessionFilter);var o=_possibleConstructorReturn(this,s.call(this,e,t));return o.handleDropdownChange=function(e,s){"ondemand"===e?o.context.executeAction(h):"all"===e?o.context.executeAction(S,{branchId:s}):o.context.executeAction(f,{sessionId:e})},!e.loaded&&e.hasModerationRole&&t.executeAction(d,{courseId:e.courseId,currentSessionId:e.currentSessionId,isPrivateSession:e.isPrivateSession}),e.loaded||e.hasModerationRole||t.executeAction(p,{courseId:e.courseId,currentSessionId:e.currentSessionId,isPrivateSession:e.isPrivateSession}),o}return _inherits(SessionFilter,s),SessionFilter.prototype.render=function render(){if(!this.props.discussionsLandingPageActive||!this.props.loaded||!this.props.hasModerationRole)return!1;var s=e.createElement(l,null,t("Instructors can now change the structure of the discussion forums for each version of the course to better\n            fit the material. It is still possible to view all discussions in a particular version, but no longer\n            possible to view discussions across every session."));return e.createElement("div",{className:"rc-SessionFilter card-rich-interaction cozy"},e.createElement("div",null,e.createElement("div",{className:"horizontal-box align-items-spacebetween"},e.createElement("div",null,e.createElement("h4",{className:"label-text color-secondary-text title"},e.createElement(n,{name:"lock"})," ",t("Filter by session"))),this.props.containsMultipleBranches?e.createElement(a,{placement:"bottom",overlay:s},e.createElement("h4",{className:"label-text color-secondary-text title"},e.createElement(n,{name:"question-circle-o",className:"cif-lg"}))):e.createElement("div",null)),e.createElement("p",{className:"caption-text color-secondary-text align-left"},t("Visible to staff and mentors")),e.createElement(u,{handleDropdownChange:this.handleDropdownChange})))},SessionFilter}(e.Component),o.propTypes={courseId:e.PropTypes.string,loaded:e.PropTypes.bool,currentSessionId:e.PropTypes.string,discussionsLandingPageActive:e.PropTypes.bool,containsMultipleBranches:e.PropTypes.bool,hasModerationRole:e.PropTypes.bool,isPrivateSession:e.PropTypes.bool},o.contextTypes={executeAction:e.PropTypes.func.isRequired},r);module.exports=c(b(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],function(e,i){var o=e.SessionFilterStore,s=e.SessionStore,t=e.CourseStore,n=e.CourseMembershipStore,r=e.ApplicationStore;return{hasModerationRole:n.hasModerationRole()||r.isSuperuser(),loaded:o.filtersLoaded,containsMultipleBranches:!!o.containsMultipleBranches,currentSessionId:s.isEnrolled()?s.getSessionId():void 0,courseSlug:t.getCourseSlug(),courseId:t.getCourseId(),isPrivateSession:s.isEnrolled()?s.isSessionPrivate():!1}}),m(function(e,s){return{discussionsLandingPageActive:e.isActive({pathname:"/learn/"+s.courseSlug+"/discussions",query:e.location.query},!0)||e.isActive({pathname:"/learn/"+s.courseSlug+"/discussions/all",query:e.location.query},!0)}}))(y)});
define("bundles/discussions/utils/getSubforumsFromCurrentForums",["require","exports","module","bundles/discussions/constants"],function(require,exports,module){var r=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},n=require("bundles/discussions/constants"),u=n.naptimeForumTypes;module.exports=function(n){if(!n.currentForum)return n;var e=n.courseForums.concat(n.mentorForums).concat(n.groupForums),s=e.find(function(r){return r.forumType.typeName===u.rootForumType}),t=n.currentForum;n.currentForum.parentForumId&&n.currentForum.parentForumId!==s.id&&(t=e.find(function(r){return r.id===n.currentForum.parentForumId}));var o=e.filter(function(r){return r.parentForumId===t.id});return o.unshift(t),r({},n,{listedForums:o,parentForumId:t.id})}});

define('css!bundles/discussions/components/forums/__styles__/SubforumSidebar',[],function(){})
define("bundles/discussions/components/forums/SubforumSidebar",["require","exports","module","react","underscore","classnames","react-router","js/lib/path","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","js/lib/connectToRouter","bundles/discussions/utils/routerConnectToCurrentForum","js/lib/mapProps","bundles/discussions/utils/discussionsUrl","bundles/discussions/utils/getSubforumsFromCurrentForums","bundles/discussions/components/discussionsForumsHOC","i18n!nls/discussions","css!bundles/discussions/components/forums/__styles__/SubforumSidebar"],function(require,exports,module){function _defaults(e,o){for(var t=Object.getOwnPropertyNames(o),s=0;s<t.length;s++){var r=t[s],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(s,e){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?s:e}function _inherits(s,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(s,e):_defaults(s,e))}var s,r,e=require("react"),_=require("underscore"),t=require("classnames"),u=require("react-router"),i=u.Link,c=require("js/lib/path"),o=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),l=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),a=require("bundles/naptimejs/resources/groupForums.v1"),m=require("js/lib/connectToRouter"),d=require("bundles/discussions/utils/routerConnectToCurrentForum"),p=require("js/lib/mapProps"),b=require("bundles/discussions/utils/discussionsUrl"),f=b.getCourseRootPath,y=require("bundles/discussions/utils/getSubforumsFromCurrentForums"),F=require("bundles/discussions/components/discussionsForumsHOC"),n=require("i18n!nls/discussions");require("css!bundles/discussions/components/forums/__styles__/SubforumSidebar");var j=(r=s=function(s){function SubforumSidebar(){return _classCallCheck(this,SubforumSidebar),_possibleConstructorReturn(this,s.apply(this,arguments))}return _inherits(SubforumSidebar,s),SubforumSidebar.prototype.render=function render(){var s=this.props,r=s.listedForums,o=s.currentForumId,u=s.parentForumId,l=s.courseSlug;if(!r||r.length<=1)return null;return e.createElement("div",{className:"rc-SubforumSidebar card-rich-interaction flex-1"},e.createElement("div",{className:"subforums-list-title label-text color-secondary-text"},n("Subforums")),e.createElement("ul",{className:"nostyle"},r.map(function(s){var r=t("forum-title",{"body-2-text":s.id===o,"body-1-text":s.id!==o}),a=c.join(f(l),s.link);return e.createElement(i,{key:s.id,to:a,className:"nostyle"},e.createElement("li",{className:"subforum-entry"},s.id===o&&e.createElement("div",{className:"current-forum-indicator"}),e.createElement("div",{className:r},s.id===u?n("All"):s.title)))})))},SubforumSidebar}(e.Component),s.propTypes={courseSlug:e.PropTypes.string,listedForums:e.PropTypes.arrayOf(e.PropTypes.oneOfType([e.PropTypes.instanceOf(o),e.PropTypes.instanceOf(l),e.PropTypes.instanceOf(a)])),currentForumId:e.PropTypes.string,parentForumId:e.PropTypes.string},r);module.exports=_.compose(F({fields:["link","title","description","parentForumId"]}),m(d),p(y))(j)});

define('css!bundles/discussions/components/forums/__styles__/ThreadsView',[],function(){})
define("bundles/discussions/components/forums/ThreadsView",["require","exports","module","react","underscore","js/lib/path","bundles/discussions/components/discussionsBody/DiscussionsBody","bundles/discussions/utils/discussionsUrl","bundles/cml/components/CML","bundles/ui/components/Breadcrumbs","bundles/discussions/components/SubscriptionButton","bundles/discussions/components/sessionFilter/SessionFilter","bundles/discussions/components/forums/SubforumSidebar","bundles/discussions/components/discussionsBody/ThreadsList","bundles/discussions/components/discussionsBody/ThreadDetail","bundles/discussions/components/search/SearchResults","bundles/discussions/utils/routerConnectToCurrentForum","bundles/discussions/utils/getSubforumsFromCurrentForums","bundles/discussions/constants","bundles/discussions/components/discussionsForumsHOC","bundles/naptimejs/resources/onDemandCourseForums.v1","bundles/naptimejs/resources/onDemandMentorForums.v1","bundles/naptimejs/resources/groupForums.v1","js/lib/mapProps","js/lib/connectToRouter","i18n!nls/discussions","css!bundles/discussions/components/forums/__styles__/ThreadsView"],function(require,exports,module){function _defaults(s,r){for(var t=Object.getOwnPropertyNames(r),e=0;e<t.length;e++){var n=t[e],o=Object.getOwnPropertyDescriptor(r,n);o&&o.configurable&&void 0===s[n]&&Object.defineProperty(s,n,o)}return s}function _classCallCheck(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function _inherits(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):_defaults(e,s))}var e,t,s=require("react"),f=require("underscore"),E=f.compose,r=require("js/lib/path"),P=require("bundles/discussions/components/discussionsBody/DiscussionsBody"),n=require("bundles/discussions/utils/discussionsUrl"),a=n.getCourseDiscussionsUrl,i=n.getCourseRootPath,p=require("bundles/cml/components/CML"),m=require("bundles/ui/components/Breadcrumbs"),b=require("bundles/discussions/components/SubscriptionButton"),d=require("bundles/discussions/components/sessionFilter/SessionFilter"),u=require("bundles/discussions/components/forums/SubforumSidebar"),y=require("bundles/discussions/components/discussionsBody/ThreadsList"),h=require("bundles/discussions/components/discussionsBody/ThreadDetail"),T=require("bundles/discussions/components/search/SearchResults"),F=require("bundles/discussions/utils/routerConnectToCurrentForum"),v=require("bundles/discussions/utils/getSubforumsFromCurrentForums"),j=require("bundles/discussions/constants"),g=j.naptimeForumTypes,O=require("bundles/discussions/components/discussionsForumsHOC"),c=require("bundles/naptimejs/resources/onDemandCourseForums.v1"),l=require("bundles/naptimejs/resources/onDemandMentorForums.v1"),o=require("bundles/naptimejs/resources/groupForums.v1"),w=require("js/lib/mapProps"),S=require("js/lib/connectToRouter"),C=require("i18n!nls/discussions");require("css!bundles/discussions/components/forums/__styles__/ThreadsView");var x=(t=e=function(e){function ThreadsView(){return _classCallCheck(this,ThreadsView),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ThreadsView,e),ThreadsView.prototype.renderSubscriptionButton=function renderSubscriptionButton(){var e=this.props.currentForum;if(!e||e.forumType.typeName===g.itemForumType)return null;return s.createElement("div",{className:"flex-1"},s.createElement(b,{forumId:this.props.currentForum&&this.props.currentForum.id,forumType:this.props.currentForum&&this.props.currentForum.forumType.typeName,groupId:this.props.currentForum&&this.props.currentForum.forumType.definition.groupId}))},ThreadsView.prototype.render=function render(){var e=this.props.currentForum;if(!e)return null;var n=e.parentForumId&&this.props.listedForums.find(function(s){return e.parentForumId===s.id}),o=e.title,t=e.description,c=e.id,l=r.join(i(this.props.courseSlug),e.link),b=[{label:C("Discussion Forums"),href:a()},n?{label:n.title,href:r.join(i(this.props.courseSlug),n.link)}:void 0],f=!!this.context.router.params.question_id;return s.createElement("div",{className:"rc-ThreadsView"},s.createElement("div",{className:"horizontal-box vertical-when-tablet"},s.createElement("div",{className:"flex-2 threads-view-header"},s.createElement(m,{className:"breadcrumbs",links:b}),s.createElement("div",null,s.createElement("div",{className:"forum-name headline-5-text color-primary-text"},o),!f&&s.createElement("div",{className:"forum-description horizontal-box align-items-vertical-center vertical-when-mobile"},s.createElement(p,{className:"body-1-text",cml:t}),s.createElement("div",null,this.renderSubscriptionButton())))),s.createElement("div",{className:"flex-1 align-self-end session-switcher-container"},s.createElement(d,null))),s.createElement("div",{className:"horizontal-box align-items-top vertical-when-tablet"},s.createElement(P,{className:"flex-2 discussions-body-column",key:c,backLink:l}),s.createElement(u,null)))},ThreadsView}(s.Component),e.propTypes={currentForum:s.PropTypes.oneOfType([s.PropTypes.instanceOf(c),s.PropTypes.instanceOf(l),s.PropTypes.instanceOf(o)]),listedForums:s.PropTypes.arrayOf(s.PropTypes.oneOfType([s.PropTypes.instanceOf(c),s.PropTypes.instanceOf(l),s.PropTypes.instanceOf(o)])),courseSlug:s.PropTypes.string},e.contextTypes={router:s.PropTypes.object.isRequired},t);module.exports=E(O({fields:["title","description","link"],subcomponents:[u,y,h,T]}),S(F),w(v))(x)});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.scribe-image-upload-command-loader{background:#fff;position:absolute;padding:5px 15px;border:1px solid #aaa}.scribe-image-upload-command-in-progress{opacity:.1;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=10)\";filter:alpha(opacity=10)}.wechat-image{cursor:pointer}.wechat-qrcode-container{background:#fff;border:1px solid #ccc;position:absolute;z-index:100;width:260px;height:130px;font-size:13px;right:10px;top:-120px;margin-top:20px;-webkit-box-shadow:0 3px 7px rgba(0,0,0,0.3);box-shadow:0 3px 7px rgba(0,0,0,0.3)}#wechat-qrcode{display:inline-block;margin:20px 10px;float:left}.wechat-qrcode-message{display:inline-block;width:120px;height:90px;margin:20px 10px;line-height:20px;text-align:left}.wechat-qrcode-close{position:absolute;top:0;right:8px;cursor:pointer}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SearchBar{z-index:1000;}.rc-SearchBar.search-bar{border:none;}.rc-SearchBar.search-bar i{margin-right:16px}.rc-SearchBar .close-icon{margin-left:16px}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-ProfileImage .c-profile-image{border-radius:100%;}.rc-ProfileImage .c-profile-image img{border-radius:100%}.rc-ProfileImage .c-profile-initials{background-color:#3277b2;color:#fff;text-transform:uppercase;}.rc-ProfileImage .c-profile-initials div{width:100%;height:100%;}.rc-ProfileImage .c-profile-initials div p{margin-bottom:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-MiniProfile{position:absolute;z-index:9999;opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);}.rc-MiniProfile.transition-in{opacity:1;-ms-filter:none;filter:none;-webkit-transition:opacity 0.3s ease-in;-moz-transition:opacity 0.3s ease-in;-o-transition:opacity 0.3s ease-in;-ms-transition:opacity 0.3s ease-in;transition:opacity 0.3s ease-in}.rc-MiniProfile .profile-header{margin:16px 12px 12px;}.rc-MiniProfile .profile-header .profile-photo{margin-bottom:12px}.rc-MiniProfile .profile-footer{padding:12px 16px 16px}.rc-MiniProfile .unavailable-state{text-align:center;margin:48px 16px}.rc-MiniProfile .loading-state{text-align:center;margin:48px}.rc-MiniProfile .dot-spacing{margin:0 4px}.rc-MiniProfile.profileAreaNorth{margin-top:-205px}.rc-MiniProfile.profileAreaSouth{margin-top:5px}.rc-MiniProfile.profileNameNorth{margin-top:-185px}.rc-MiniProfile.profileNameSouth{margin-top:5px}.rc-PaginationControls{margin-top:16px;}.rc-PaginationControls .pagination-controls-container > .box{margin-left:6px;width:100%;}.rc-PaginationControls .pagination-controls-container > .box:first-child{margin-left:0}.rc-PaginationControls button{border:none;background-color:inherit}.rc-ModerationReasons .c-radio-group{list-style-type:none;padding-left:0}.rc-ModerationReasons li{margin:0 0 16px 16px}.rc-ModerationReasons a{text-decoration:underline}.rc-ModerationReasons label{font-weight:normal}.rc-ModerationReasons .c-radio-label{display:inline-block;padding-left:16px}.rc-Breadcrumbs{list-style-type:none;}.rc-Breadcrumbs .divider{margin:0 8px}.rc-SubscriptionButton{margin-left:16px;}.rc-SubscriptionButton button.passive{min-width:120px;margin-right:8px}.rc-SubscriptionButton .message{opacity:1;-ms-filter:none;filter:none;padding:8px;border-radius:2px}.rc-SubscriptionButton .fadeOut{opacity:0;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";filter:alpha(opacity=0);background-color:#ddd;-webkit-transition:opacity 3s cubic-bezier(1, 0.5, 1, -0.83);-moz-transition:opacity 3s cubic-bezier(1, 0.5, 1, -0.83);-o-transition:opacity 3s cubic-bezier(1, 0.5, 1, -0.83);-ms-transition:opacity 3s cubic-bezier(1, 0.5, 1, -0.83);transition:opacity 3s cubic-bezier(1, 0.5, 1, -0.83)}.rc-SessionFilter{margin-bottom:16px;max-width:313px;}.rc-SessionFilter .title{margin-bottom:0;margin-top:0}.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-SubforumSidebar{max-width:314px;margin-bottom:24px;}.rc-SubforumSidebar .subforums-list-title{margin-top:16px;margin-bottom:16px;margin-left:32px}.rc-SubforumSidebar .subforum-entry{border-top:1px solid rgba(0,0,0,0.12);padding:16px;padding-left:32px;}.rc-SubforumSidebar .subforum-entry.selected .forum-title{font-weight:bold}.rc-SubforumSidebar .subforum-entry:hover{background-color:rgba(0,0,0,0.05)}.rc-SubforumSidebar .current-forum-indicator{width:4px;height:20px;background-color:#a07e46;position:absolute;margin-left:-32px;margin-top:2px}@media (max-width:991px){.rc-SubforumSidebar{margin-left:0}}.rc-ThreadsView .rc-DiscussionsBody{max-width:650px}.rc-ThreadsView .breadcrumbs{margin-bottom:12px}.rc-ThreadsView .forum-name{margin-bottom:12px}.rc-ThreadsView .forum-description{margin-bottom:20px}.rc-ThreadsView .threads-view-header,.rc-ThreadsView .discussions-body-column{margin-right:20px}@media (max-width:767px){.rc-ThreadsView .vertical-when-mobile{-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}@media (max-width:991px){.rc-ThreadsView .vertical-when-tablet{-webkit-box-direction:reverse;-moz-box-direction:reverse;-o-box-direction:reverse;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.rc-ThreadsView .session-switcher-container{-webkit-align-self:stretch;align-self:stretch;-ms-flex-item-align:stretch;}}');
