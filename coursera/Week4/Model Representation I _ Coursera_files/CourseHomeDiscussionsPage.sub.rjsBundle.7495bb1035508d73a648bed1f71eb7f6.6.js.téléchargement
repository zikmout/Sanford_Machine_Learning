define("nls/phoenix",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/discussions",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});

define('css!bundles/discussions/components/__styles__/DiscussionSatisfactionSurveyModal',[],function(){})
define("bundles/discussions/components/DiscussionSatisfactionSurveyModal",["require","exports","module","react","js/lib/coursera.store","bundles/phoenix/components/Modal","js/lib/coursera.externallinks","bundles/epic/client","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","css!./__styles__/DiscussionSatisfactionSurveyModal"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var n=r[t],o=Object.getOwnPropertyDescriptor(s,n);o&&o.configurable&&void 0===e[n]&&Object.defineProperty(e,n,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n,s,e=require("react"),o=require("js/lib/coursera.store"),i=require("bundles/phoenix/components/Modal"),a=require("js/lib/coursera.externallinks"),u=require("bundles/epic/client"),c=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),t=require("i18n!nls/discussions"),r=function getLocalStorageKey(e){return"discussionSurveyDisplayed."+e};require("css!./__styles__/DiscussionSatisfactionSurveyModal");var l=(s=n=function(n){function DiscussionSatisfactionSurveyModal(){var s,e,i;_classCallCheck(this,DiscussionSatisfactionSurveyModal);for(var c=arguments.length,l=Array(c),t=0;c>t;t++)l[t]=arguments[t];return s=e=_possibleConstructorReturn(this,n.call.apply(n,[this].concat(l))),e.state={showModal:!1,nextLocation:null,userConfirmed:!1},e.handleOpenSurvey=function(){a.safelyOpenUrl("https://www.surveymonkey.com/r/RJ22ZPH"),e.handleContinue()},e.handleContinue=function(){o.set(r(e.props.courseId),!0),e.setState({userConfirmed:!0,showModal:!1},function(){e.context.router.push(e.state.nextLocation)})},e.routerWillLeave=function(t){var n=e.props,s=n.courseId,a=n.sessionId,i=e.state,c=i.userConfirmed,l=i.nextLocation;if(c)return!0;if(t){var p=u.get("DiscussionsSatisfactionSurvey","showSatisfactionSurvey",{course_id:s,ondemand_session_id:a}),d=o.get(r(s));if(!p||l||d)return!0;return e.setState({showModal:!0,nextLocation:t}),!1}return!0},i=s,_possibleConstructorReturn(e,i)}return _inherits(DiscussionSatisfactionSurveyModal,n),DiscussionSatisfactionSurveyModal.prototype.componentDidMount=function componentDidMount(){this.context.router.setRouteLeaveHook(this.props.currentRoute,this.routerWillLeave)},DiscussionSatisfactionSurveyModal.prototype.render=function render(){var n=this.state.showModal;return e.createElement("div",{className:"rc-DiscussionSatisfactionSurveyModal"},n&&e.createElement(i,{allowClose:!0,handleClose:this.handleContinue,className:"DiscussionSatisfactionModal",trackingName:"discussion_satisfaction_survey",modalName:t("Discussion Forums Satisfaction")},e.createElement("h4",null,t("Please take a short survey to help us improve the discussion forums.")),e.createElement("div",null,e.createElement("button",{className:"survey-open primary",onClick:this.handleOpenSurvey},t("Open survey in new tab"))),e.createElement("div",null,e.createElement("button",{className:"survey-continue button-link",onClick:this.handleContinue},t("No thanks, continue to next page")))))},DiscussionSatisfactionSurveyModal}(e.Component),n.propTypes={currentRoute:e.PropTypes.object.isRequired,courseId:e.PropTypes.string,sessionId:e.PropTypes.string},n.contextTypes={router:e.PropTypes.object.isRequired},s);module.exports=c(l,["SessionStore"],function(e){var t=e.SessionStore;return{sessionId:t.getSessionId()}})});
define("nls/page",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/requirejs/identity",["require","exports","module"],function(require,exports,module){module.exports=function(){for(var r=arguments.length,t=Array(r),e=0;r>e;e++)t[e]=arguments[e];return t}});
define("nls/seo",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/phoenix/lib/conditionalRedirect",["require","exports","module","react","js/lib/hoistNonReactStatics"],function(require,exports,module){function _defaults(e,o){for(var i=Object.getOwnPropertyNames(o),t=0;t<i.length;t++){var r=i[t],n=Object.getOwnPropertyDescriptor(o,r);n&&n.configurable&&void 0===e[r]&&Object.defineProperty(e,r,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var e=require("react"),t=require("js/lib/hoistNonReactStatics");module.exports=function(r){return function(n){var o,i,a=n.displayName||n.name,c=(i=o=function(t){function RedirectWrapper(){var n,r,o;_classCallCheck(this,RedirectWrapper);for(var i=arguments.length,c=Array(i),e=0;i>e;e++)c[e]=arguments[e];return n=r=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(c))),r.state={haveRedirected:!1},o=n,_possibleConstructorReturn(r,o)}return _inherits(RedirectWrapper,t),RedirectWrapper.prototype.componentWillMount=function componentWillMount(){this.conditionallyRedirect(this.props)},RedirectWrapper.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){this.conditionallyRedirect(e)},RedirectWrapper.prototype.conditionallyRedirect=function conditionallyRedirect(t){var e=r(t),n=e.redirectUrl,o=e.shouldRedirect;!this.state.haveRedirected&&o&&(this.setState({haveRedirected:!0}),this.context.router.push(n))},RedirectWrapper.prototype.render=function render(){var t=r(this.props),o=t.shouldRedirect;if(o)return null;return e.createElement(n,this.props)},RedirectWrapper}(e.Component),o.displayName=a+"RedirectWrapper",o.contextTypes={router:e.PropTypes.object.isRequired},i);return t(c,n),c}}});
define("nls/ondemand",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/lib/require.memoize",["module"],function(module){function argsToJsonHasher(){var r=Array.prototype.slice.call(arguments);return JSON.stringify(r)}function memoize(e,t){var n={};t=t||argsToJsonHasher;var r=function memoized(){var r=t.apply(this,arguments);return r in n||(n[r]=e.apply(this,arguments)),n[r]};return r.force=function(){return r.clear.apply(this,arguments),r.apply(this,arguments)},r.clear=function(){var r=t.apply(this,arguments);delete n[r]},r.reset=function(){n={}},r}var r={version:"0.0.1",load:function load(r,n,t,e){n([r],function(r){t(memoize(r))})}};return r});

define("js/json/nls/universities",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/languages",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("js/json/nls/topics",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("nls/profile",["require","exports","module"],function(require,exports,module){module.exports={es:!0,fr:!0,pseudo:!0,pt:!0,ru:!0,tr:!0,zh:!0,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":!0}});
define("bundles/discussions/components/CourseHomeDiscussionsPage",["require","exports","module","react","underscore","bundles/discussions/components/DiscussionSatisfactionSurveyModal","bundles/seo/components/CourseraMetatags","bundles/ondemand/utils/socialExperimentUtils","js/lib/retracked","bundles/phoenix/lib/waitForStores","bundles/phoenix/lib/conditionalRedirect","vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent","bundles/discussions/app","i18n!nls/discussions"],function(require,exports,module){function _defaults(e,s){for(var r=Object.getOwnPropertyNames(s),t=0;t<r.length;t++){var o=r[t],n=Object.getOwnPropertyDescriptor(s,o);n&&n.configurable&&void 0===e[o]&&Object.defineProperty(e,o,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,o,n,s,e=require("react"),i=require("underscore"),u=i.compose,r=require("bundles/discussions/components/DiscussionSatisfactionSurveyModal"),c=require("bundles/seo/components/CourseraMetatags"),a=require("bundles/ondemand/utils/socialExperimentUtils"),l=a.isForumsBlacklisted,p=require("js/lib/retracked"),d=require("bundles/phoenix/lib/waitForStores"),b=require("bundles/phoenix/lib/conditionalRedirect"),f=require("vendor/cnpm/fluxible.v0-4/addons/FluxibleComponent"),m=require("bundles/discussions/app"),h=require("i18n!nls/discussions"),y=(o=t=function(t){function CourseHomeDiscussionsPage(){return _classCallCheck(this,CourseHomeDiscussionsPage),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(CourseHomeDiscussionsPage,t),CourseHomeDiscussionsPage.prototype.render=function render(){var t=this.props,o=t.courseName,n=t.route,s=t.courseId;return e.createElement("div",{className:"rc-CourseHomeDiscussionsPage"},e.createElement(r,{currentRoute:n,courseId:s}),e.createElement(c,{title:h(o+" - Discussions")}),this.props.children)},CourseHomeDiscussionsPage}(e.Component),t.propTypes={route:e.PropTypes.object.isRequired,courseId:e.PropTypes.string,courseName:e.PropTypes.string,children:e.PropTypes.node},o),x=u(p.createTrackedContainer(function(){return{namespace:{page:"discussions"}}}),d(["CourseStore","CourseMembershipStore","ApplicationStore"],function(e,c){var t=e.CourseStore,o=e.CourseMembershipStore,s=e.ApplicationStore,r=o.isEnrolled()&&!o.isPreEnrolled(),n=t.getCourseId(),i=o.hasModerationRole()||s.isSuperuser(),u=r;return{courseId:n,courseName:t.getMetadata().get("name"),courseRootPath:t.getCourseRootPath(),canAccessDiscussions:!l(n)&&(u||i)}}),b(function(e){var t=e.courseRootPath,o=e.canAccessDiscussions;return{redirectUrl:t,shouldRedirect:!o}}))(y);module.exports=(s=n=function(t){function FluxibleCourseHomeDiscussionsPage(){return _classCallCheck(this,FluxibleCourseHomeDiscussionsPage),_possibleConstructorReturn(this,t.apply(this,arguments))}return _inherits(FluxibleCourseHomeDiscussionsPage,t),FluxibleCourseHomeDiscussionsPage.prototype.componentWillMount=function componentWillMount(){this.fluxibleContext=m(this.context.fluxibleContext)},FluxibleCourseHomeDiscussionsPage.prototype.render=function render(){return e.createElement(f,{context:this.fluxibleContext.getComponentContext()},e.createElement(x,this.props))},FluxibleCourseHomeDiscussionsPage}(e.Component),n.contextTypes={fluxibleContext:e.PropTypes.object},s)});

(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})
('.bt3-clearfix:before,.bt3-clearfix:after{content:\" \";display:table}.bt3-clearfix:after{clear:both}.rc-DiscussionSatisfactionSurveyModal .DiscussionSatisfactionModal .c-modal-x-out{top:10px;right:20px}.rc-DiscussionSatisfactionSurveyModal .DiscussionSatisfactionModal .c-modal-content{width:560px;padding:45px 50px;text-align:center;min-height:0}.rc-DiscussionSatisfactionSurveyModal .survey-open{margin-top:30px}.rc-DiscussionSatisfactionSurveyModal .survey-continue{margin-top:20px}');
