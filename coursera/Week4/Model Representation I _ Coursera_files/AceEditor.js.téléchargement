define("bundles/phoenix/models/AceEditor",["require","exports","module","jquery","underscore","brace"],function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},o=function(){function defineProperties(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),$=require("jquery"),_=require("underscore"),e=require("brace"),r=e.acequire("ace/range").Range,t=16,i=1/0,s="ace/theme/tomorrow",a={wrap:!0,tabSize:2,useWorker:!1,useSoftTabs:!0,maxLines:i,scrollPastEnd:!1,showInvisibles:!1,displayIndentGuides:!1},u=function(){function AceEditor(t){var h=this,r=t.el,p=t.value,u=t.language,d=t.readOnly,g=void 0===d?!1:d,c=t.minLines,l=void 0===c?3:c,i=t.onChange,o=t.onFocus;_classCallCheck(this,AceEditor),this.el=r,this.editor=e.edit(r),this.editor.$blockScrolling=1,this.editor.setValue(p),this.editor.setTheme(s),this.editor.setOptions(n({},a,{minLines:l,readOnly:g})),this.editor.selection.clearSelection(),this.editor.setHighlightActiveLine(!1),this.editor.getSession().setUseWrapMode(!0),this.editor.getSession().setWrapLimitRange(40,80),u&&this.setLanguage(u),i&&this.editor.getSession().on("change",function(e){return i(h.value,e)}),o&&this.editor.on("focus",o)}return AceEditor.prototype.setLanguage=function setLanguage(e){this.editor.getSession().setMode("ace/mode/"+e)},AceEditor.prototype.setValue=function setValue(e){this.editor.setValue(e)},AceEditor.prototype.resizeHeight=function resizeHeight(){var n=this.editor.getSession().getScreenLength(),o=this.editor.renderer.scrollBar.getWidth(),r=Math.max(this.editor.renderer.lineHeight,t),e=Math.max(n*r+o,t*this.editor.getOption("minLines"));return $(this.el).height(e),this.editor.resize(),e},AceEditor.prototype.onChange=function onChange(e){var t=this;this.editor.getSession().on("change",function(n){return e(t.value,n)})},AceEditor.prototype.docIndexToPos=function docIndexToPos(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.editor.getSession().getDocument().indexToPosition(e,t)},AceEditor.prototype.posToDocIndex=function posToDocIndex(e){var t=e.row,n=e.column,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.editor.getSession().getDocument().positionToIndex({row:t,column:n},o)},AceEditor.prototype.clearAnnotations=function clearAnnotations(){return this.editor.getSession().clearAnnotations()},AceEditor.prototype.setAnnotations=function setAnnotations(e){return this.editor.getSession().setAnnotations(e)},AceEditor.prototype.removeMarkers=function removeMarkers(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},e=this.editor.getSession(),n=e.getMarkers(!0)||{},o=e.getMarkers(!1)||{};_.union(_.values(n),_.values(o)).filter(t).forEach(function(t){return e.removeMarker(t.id)})},AceEditor.prototype.addMarkerByDocIndex=function addMarkerByDocIndex(n,o,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!1,e=this.docIndexToPos(n),t=this.docIndexToPos(o);this.editor.getSession().addMarker(new r(e.row,e.column,t.row,t.column),i,s)},o(AceEditor,[{key:"value",get:function get(){return this.editor.getValue()}}]),AceEditor}();module.exports=u});